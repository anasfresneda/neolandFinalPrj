<!-- {{formRegistro.valid}} -->
<h2 class="header ml-4 pb-2 mt-4 mb-5 text-left">
  Registra tu <span class="titania">pieza</span>! 
</h2>
<p>Form Value: {{ formRegistro.value | json }}</p>
<p>Form Status: {{ formRegistro.status }}</p>
<!-- Observables subida file: -->
<!-- <p> {{uploadPercent | async}}</p>
<p> {{downloadURL | async}}</p> -->

<div class="container">
  <form novalidate
  [formGroup]="formRegistro"
  (ngSubmit)="manejarFormulario()">

    <div class="form row">
      
      <!-- info1 -->
      <div class="col-md-4 mb-5">
        <h3 class="mb-3 titania">1➫Pieza</h3>
        <p class="info mb-5">
          <span class="titania">a.</span>  Rellena los campos con los datos de la pieza que quieras exponer en nuestra galería virtual.<br>
          <span class="titania">b.</span>  Al recibir tu petición, <br>la validaremos y en un período máximo de 5 días recibirás una respuesta! <br>
          <span class="titania">c.</span> Elige las fotos para mostrar tu pieza, tanto  para la cover, como el archivo de la pieza en si misma.
        </p>
      </div>
      <!-- 1-FORM PIEZA -->
        <div class="col-md-5 mb-5"> 
          <!--título-->
          <div class="form-group ">
            <label>título</label><br>
            <!-- validaciones -->
            <small *ngIf="formRegistro.controls.titulopieza.errors?.required && formRegistro.controls.titulopieza.dirty"> ⚠️ Oh vaya,campo obligatorio
            </small>
            <small *ngIf="formRegistro.controls.titulopieza.errors?.maxlength && formRegistro.controls.titulopieza.dirty"> ⚠️ Upss,titulo tiene una extensión máx. de {{formRegistro.controls.titulopieza.errors.maxlength.requiredLength}} ,actualmente hay escritos {{formRegistro.controls.titulopieza.errors.maxlength.actualLength}}
            </small>
            <input class="mb-4" type="text" formControlName="titulopieza">
          </div>
          
          <!--textarea INFO-->
          <div class="form-group ">
            <label>info</label><br>
            <!-- validaciones -->
            <small *ngIf="formRegistro.controls.infopieza.errors?.required && formRegistro.controls.infopieza.dirty"> ⚠️ Oh vaya,campo obligatorio
            </small>
            <small *ngIf="formRegistro.controls.infopieza.errors?.maxlength && formRegistro.controls.infopieza.dirty"> ⚠️ Upss,info tiene una extensión máx. de {{formRegistro.controls.infopieza.errors.maxlength.requiredLength}} ,actualmente hay escritos {{formRegistro.controls.infopieza.errors.maxlength.actualLength}}
            </small>
            <textarea class="form-control mb-4" type="text" formControlName="infopieza" id="textarea1" rows="4"></textarea>
          </div>

          <!-- COVER | PIEZA -->
            <!-- COVER -->
          <div class="form row mb-4">
            <label class="mb-4">cover
              <p class="info2 mt-2">Imagen de tu pieza:
                Elige tus archivos extensión
                <span class="titania"> .jpg/.gif/.png</span> :
              </p><br>
              <!-- añadir evento (change)="onChangeImage($event)"  -->        
              <input class="btn custom-boton insertfile" type="file" formControlName="piccover"> 
            </label>
             <!-- PIEZAS -->
            <!-- Para visualizar la imagen subida: <img [src]="downloadURL | async"> -->
            <label class="mb-4"> pieza
              <p class="info2 mt-2">
                Url de tu pieza (en caso de video o audio) o archivo
                <span class="titania"> .jpg/.gif/.png</span> :
              </p><br>
              <input class="mb-2" formControlName="URLpieza" type="url" placeholder="http://www.example.com">
              <input class="btn custom-boton insertfile" type="file" formControlName="picpieza"> 
            </label>
          </div>

          <!-- multiple select CATEGORIAS -->
          <p class="mb-2" >categorías:</p><br>
          <div class="form-group row">   
            <div class="col-md-6 row" *ngFor= "let cat of categorias.controls; let i=index">
              <input class="form-check-input" type="checkbox" 
              [formControl]="cat"/> 
              <label class="col-md-6 ml-2 mb-3 categoriaslabel"> {{user.categorias[i].name}}</label>
            </div> 
          </div>
        </div>

        <!-- info2 -->
      <div class="col-md-4  mt-5">
          <h3 class="mb-3 titania">2➫Autor</h3>
          <p class="info mb-5">
              <span class="titania">a.</span> 
              Rellena los campos con tu nombre de autor,<br>
              un poco de info sobre ti,<br>
              y tu foto de perfil.<br>
            </p>
      </div>
        <!-- 2-form -->
      <div class="col-md-5 mt-5"> 
        <!-- NOMBRE -->
        <div class="form-group">
          <label>nombre</label><br>
          <!-- validaciones -->
          <small *ngIf="formRegistro.controls.nombreautor.errors?.required && formRegistro.controls.nombreautor.dirty"> ⚠️ El campo nombre es obligatorio
            </small>
            <small *ngIf="formRegistro.controls.nombreautor.errors?.maxlength && formRegistro.controls.nombreautor.dirty"> ⚠️ El campo nombre tiene una extensión máx. de {{formRegistro.controls.nombreautor.errors.maxlength.requiredLength}} ,actualmente hay escritos {{formRegistro.controls.nombreautor.errors.maxlength.actualLength}}
            </small>
          <input class="mb-4" type="text" formControlName="nombreautor">
        </div>
        <!-- MAIL -->
        <div class="form-group">
        <label>mail</label><br>

        <input class="mb-4" type="mail" formControlName="email"><br>
        </div>
        
        <!-- INFO -->
        <div class="form-group ">
          <label>info</label><br>
          <!-- validaciones -->
          <small *ngIf="formRegistro.controls.infoautor.errors?.required && formRegistro.controls.infoautor.dirty"> ⚠️ Oh vaya,campo obligatorio
            </small>
            <small *ngIf="formRegistro.controls.infoautor.errors?.maxlength && formRegistro.controls.infoautor.dirty"> ⚠️Upss, campo info tiene una extensión máx. de {{formRegistro.controls.infoautor.errors.maxlength.requiredLength}} ,actualmente hay escritos {{formRegistro.controls.infoautor.errors.maxlength.actualLength}}
            </small>
          <textarea class="form-control mb-4" type="textarea" formControlName="infoautor" id="textarea2" rows="3"></textarea>
        </div>
        <!-- FOTO PERFIL -->
        <div class="form row mb-4">
            <label>foto perfil
              <input class="btn custom-boton insertfile" type="file" formControlname="picautor">
            </label>
        </div>
        <!-- RRSS -->
        <div class="form-group ">
          <label>rrss</label><br>

          <div class="input-group mb-2">
              <div class="input-group-prepend row">
                <span class="input-group-text" id="basic-addon3">
                https://www.instagram.com/</span>
              </div>
              <input type="text" formControlname="ig" class="form-control" id="basic-url" aria-describedby="basic-addon3">
          </div>

          <div class="input-group mb-2">
              <div class="input-group-prepend row">
                <span class="input-group-text" id="basic-addon3">
                    https://www.behance.net/</span>
              </div>
              <input type="text" formControlname="be" class="form-control" id="basic-url" aria-describedby="basic-addon3">
          </div>

          <div class="input-group mb-2">
              <div class="input-group-prepend row">
                <span class="input-group-text" id="basic-addon3">
                https://www.</span>
              </div>
              <input type="text" formControlname="web" class="form-control" id="basic-url" aria-describedby="basic-addon3">
          </div>
        </div>
      </div> 
    </div>

    <!-- BOTON -->
    <button class="form-group col-md-2 col-sm-3 fluid-text text-center" type="submit" [disabled]="!formRegistro.invalid"> Registrar </button> 
  </form>
  </div>

  <!-- [ngClass]="{ 'button-disabled': formRegistro.invalid } " [disabled]="formRegistro.invalid" -->